<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>floats</title>
<script type="module" src="floats.js"></script>
</head>
<body>
<div class="controls">
<button accesskey="r" id="run" aria-pressed="false">Run</button>
</div>

<div>
<pre id="log" role="log"></pre>
</div>

<script type="module">
import {Spawner} from "./floats.js";
import Population from "./population.js";
import {log} from "./util.js";

let population;

document.querySelector("#run").addEventListener("click", e => {
const run   = e.target.getAttribute("aria-pressed") !== "true";
e.target.setAttribute("aria-pressed", run? "true" : "false");

if (run) {
population = init();
setTimeout(population.runGeneticAlgorithm(500000, 0), 1);
} else {
} // if

}); // handler

function init () {
console.debug("start...");
const s = new Spawner();
s.setup();
const p = new Population();
p.setup(s);
log("Ready.\n");
return p;
} // init
</script>

</body>
</html>
